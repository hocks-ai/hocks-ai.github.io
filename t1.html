<!DOCTYPE html>
<html>
<head>
    <title>Test Bytez Function</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        button { padding: 10px 20px; font-size: 16px; }
        pre { background: #f5f5f5; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>Test Netlify Function</h1>
    <button onclick="testGET()">Test GET Request</button>
    <button onclick="testPOST()">Test POST Request</button>
    
    <div id="result" style="margin-top: 20px;"></div>

    <script>
    const FUNCTION_URL = 'https://stupendous-frangipane-73cdbc.netlify.app/.netlify/functions/bytez-chat';
    
    function testGET() {
        document.getElementById('result').innerHTML = '<p>Testing GET request...</p>';
        
        fetch(FUNCTION_URL)
            .then(response => {
                document.getElementById('result').innerHTML += '<p>Status: ' + response.status + '</p>';
                return response.text();
            })
            .then(text => {
                document.getElementById('result').innerHTML += '<h3>Response:</h3><pre>' + text + '</pre>';
            })
            .catch(error => {
                document.getElementById('result').innerHTML += '<h3 style="color:red">Error:</h3><pre>' + error + '</pre>';
            });
    }
    
    function testPOST() {
        document.getElementById('result').innerHTML = '<p>Testing POST request...</p>';
        
        fetch(FUNCTION_URL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                messages: [
                    {role: 'user', content: 'Hello from test'}
                ]
            })
        })
        .then(response => {
            document.getElementById('result').innerHTML += '<p>Status: ' + response.status + '</p>';
            return response.json();
        })
        .then(data => {
            document.getElementById('result').innerHTML += '<h3>Response:</h3><pre>' + JSON.stringify(data, null, 2) + '</pre>';
        })
        .catch(error => {
            document.getElementById('result').innerHTML += '<h3 style="color:red">Error:</h3><pre>' + error + '</pre>';
        });
    }
    </script>
</body>
</html>
